<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Converts an multiply imputed dataset (long format) into a <code>mids</code> object — as.mids • mice</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>


<!-- docsearch -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" />
<link href="../docsearch.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script>


<meta property="og:title" content="Converts an multiply imputed dataset (long format) into a <code>mids</code> object — as.mids" />

<meta property="og:description" content="This function converts imputed data stored in long format into 
an object of class mids. The original incomplete dataset 
needs to be available so that we know where the missing data are.
The function is useful to convert back operations applied to 
the imputed data back in a mids object. It may also be 
used to store multiply imputed data sets from other software 
into the format used by mice." />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">mice</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">3.0.8</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
      <form class="navbar-form navbar-right" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off">
        </div>
      </form>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Converts an multiply imputed dataset (long format) into a <code>mids</code> object</h1>
    
    <div class="hidden name"><code>as.mids.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>This function converts imputed data stored in long format into 
an object of class <code>mids</code>. The original incomplete dataset 
needs to be available so that we know where the missing data are.
The function is useful to convert back operations applied to 
the imputed data back in a <code>mids</code> object. It may also be 
used to store multiply imputed data sets from other software 
into the format used by <code>mice</code>.</p>
    
    </div>

    <pre class="usage"><span class='fu'>as.mids</span>(<span class='no'>long</span>, <span class='kw'>where</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>.imp</span> <span class='kw'>=</span> <span class='st'>".imp"</span>, <span class='kw'>.id</span> <span class='kw'>=</span> <span class='st'>".id"</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>long</th>
      <td><p>A multiply imputed data set in long format, for example 
produced by a call to <code><a href='complete.html'>complete(..., action = 'long', include = TRUE)</a></code>, 
or by other software.</p></td>
    </tr>
    <tr>
      <th>where</th>
      <td><p>A data frame or matrix with logicals of the same dimensions 
as <code>data</code> indicating where in the data the imputations should be 
created. The default, <code>where = is.na(data)</code>, specifies that the
missing data should be imputed. The <code>where</code> argument may be used to 
overimpute observed data, or to skip imputations for selected missing values.</p></td>
    </tr>
    <tr>
      <th>.imp</th>
      <td><p>An optional column number or column name in <code>long</code>, 
indicating the imputation index. The values are assumed to be consecutive 
integers between 0 and <code>m</code>. Values <code>1</code> through <code>m</code> 
correspond to the imputation index, value <code>0</code> indicates 
the original data (with missings). 
By default, the procedure will search for a variable named <code>".imp"</code>.</p></td>
    </tr>
    <tr>
      <th>.id</th>
      <td><p>An optional column number or column name in <code>long</code>, 
indicating the subject identification. If not specified, then the 
function searches for a variable named <code>".id"</code>. If this variable 
is found, the values in the column will define the row names in 
the <code>data</code> element of the resulting <code>mids</code> object.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>An object of class <code>mids</code></p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># impute the nhanes dataset</span>
<span class='no'>imp</span> <span class='kw'>&lt;-</span> <span class='fu'>mice</span>(<span class='no'>nhanes</span>, <span class='kw'>print</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)
<span class='co'># extract the data in long format</span>
<span class='no'>X</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='complete.html'>complete</a></span>(<span class='no'>imp</span>, <span class='kw'>action</span> <span class='kw'>=</span> <span class='st'>"long"</span>, <span class='kw'>include</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)
<span class='co'># create dataset with .imp variable as numeric</span>
<span class='no'>X2</span> <span class='kw'>&lt;-</span> <span class='no'>X</span>

<span class='co'># nhanes example without .id</span>
<span class='no'>test1</span> <span class='kw'>&lt;-</span> <span class='fu'>as.mids</span>(<span class='no'>X</span>)
<span class='fu'><a href='is.mids.html'>is.mids</a></span>(<span class='no'>test1</span>)</div><div class='output co'>#&gt; [1] TRUE</div><div class='input'><span class='fu'>identical</span>(<span class='fu'><a href='complete.html'>complete</a></span>(<span class='no'>test1</span>, <span class='kw'>action</span> <span class='kw'>=</span> <span class='st'>"long"</span>, <span class='kw'>include</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>), <span class='no'>X</span>)</div><div class='output co'>#&gt; [1] FALSE</div><div class='input'>
<span class='co'># nhanes example without .id where .imp is numeric</span>
<span class='no'>test2</span> <span class='kw'>&lt;-</span> <span class='fu'>as.mids</span>(<span class='no'>X2</span>)
<span class='fu'><a href='is.mids.html'>is.mids</a></span>(<span class='no'>test2</span>)</div><div class='output co'>#&gt; [1] TRUE</div><div class='input'><span class='fu'>identical</span>(<span class='fu'><a href='complete.html'>complete</a></span>(<span class='no'>test2</span>, <span class='kw'>action</span> <span class='kw'>=</span> <span class='st'>"long"</span>, <span class='kw'>include</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>), <span class='no'>X</span>)</div><div class='output co'>#&gt; [1] FALSE</div><div class='input'>
<span class='co'># nhanes example, where we explicitly specify .id as column 2</span>
<span class='no'>test3</span> <span class='kw'>&lt;-</span> <span class='fu'>as.mids</span>(<span class='no'>X</span>, <span class='kw'>.id</span> <span class='kw'>=</span> <span class='st'>".id"</span>)
<span class='fu'><a href='is.mids.html'>is.mids</a></span>(<span class='no'>test3</span>)</div><div class='output co'>#&gt; [1] TRUE</div><div class='input'><span class='fu'>identical</span>(<span class='fu'><a href='complete.html'>complete</a></span>(<span class='no'>test3</span>, <span class='kw'>action</span> <span class='kw'>=</span> <span class='st'>"long"</span>, <span class='kw'>include</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>), <span class='no'>X</span>)</div><div class='output co'>#&gt; [1] FALSE</div><div class='input'>
<span class='co'># nhanes example with .id where .imp is numeric</span>
<span class='no'>test4</span> <span class='kw'>&lt;-</span> <span class='fu'>as.mids</span>(<span class='no'>X2</span>, <span class='kw'>.id</span> <span class='kw'>=</span> <span class='fl'>2</span>)
<span class='fu'><a href='is.mids.html'>is.mids</a></span>(<span class='no'>test4</span>)</div><div class='output co'>#&gt; [1] TRUE</div><div class='input'><span class='fu'>identical</span>(<span class='fu'><a href='complete.html'>complete</a></span>(<span class='no'>test4</span>, <span class='kw'>action</span> <span class='kw'>=</span> <span class='st'>"long"</span>, <span class='kw'>include</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>), <span class='no'>X</span>)</div><div class='output co'>#&gt; [1] FALSE</div><div class='input'>
<span class='co'># example without an .id variable</span>
<span class='co'># variable .id not preserved</span>
<span class='no'>X3</span> <span class='kw'>&lt;-</span> <span class='no'>X</span>[, -<span class='fl'>2</span>]
<span class='no'>test5</span> <span class='kw'>&lt;-</span> <span class='fu'>as.mids</span>(<span class='no'>X3</span>)
<span class='fu'><a href='is.mids.html'>is.mids</a></span>(<span class='no'>test5</span>)</div><div class='output co'>#&gt; [1] TRUE</div><div class='input'><span class='fu'>identical</span>(<span class='fu'><a href='complete.html'>complete</a></span>(<span class='no'>test5</span>, <span class='kw'>action</span> <span class='kw'>=</span> <span class='st'>"long"</span>, <span class='kw'>include</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)[, -<span class='fl'>2</span>], <span class='no'>X</span>[, -<span class='fl'>2</span>])</div><div class='output co'>#&gt; [1] FALSE</div><div class='input'>
<span class='co'># as() syntax has fewer options</span>
<span class='no'>test7</span> <span class='kw'>&lt;-</span> <span class='fu'>as</span>(<span class='no'>X</span>, <span class='st'>"mids"</span>)
<span class='no'>test8</span> <span class='kw'>&lt;-</span> <span class='fu'>as</span>(<span class='no'>X2</span>, <span class='st'>"mids"</span>)
<span class='no'>test9</span> <span class='kw'>&lt;-</span> <span class='fu'>as</span>(<span class='no'>X2</span>[, -<span class='fl'>2</span>], <span class='st'>"mids"</span>)
<span class='no'>rev</span> <span class='kw'>&lt;-</span> <span class='fu'>ncol</span>(<span class='no'>X</span>):<span class='fl'>1</span>
<span class='no'>test10</span> <span class='kw'>&lt;-</span> <span class='fu'>as</span>(<span class='no'>X</span>[, <span class='no'>rev</span>], <span class='st'>"mids"</span>)

<span class='co'># where argument copies also observed data into $imp element</span>
<span class='no'>where</span> <span class='kw'>&lt;-</span> <span class='fu'>matrix</span>(<span class='fl'>TRUE</span>, <span class='kw'>nrow</span> <span class='kw'>=</span> <span class='fu'>nrow</span>(<span class='no'>nhanes</span>), <span class='kw'>ncol</span> <span class='kw'>=</span> <span class='fu'>ncol</span>(<span class='no'>nhanes</span>))
<span class='fu'>colnames</span>(<span class='no'>where</span>) <span class='kw'>&lt;-</span> <span class='fu'>colnames</span>(<span class='no'>nhanes</span>)
<span class='no'>test11</span> <span class='kw'>&lt;-</span> <span class='fu'>as.mids</span>(<span class='no'>X</span>, <span class='kw'>where</span> <span class='kw'>=</span> <span class='no'>where</span>)
<span class='fu'>identical</span>(<span class='fu'><a href='complete.html'>complete</a></span>(<span class='no'>test11</span>, <span class='kw'>action</span> <span class='kw'>=</span> <span class='st'>"long"</span>, <span class='kw'>include</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>), <span class='no'>X</span>)</div><div class='output co'>#&gt; [1] FALSE</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    
Gerko Vink

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Stef van Buuren, Karin Groothuis-Oudshoorn.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
<script>
  docsearch({
    
    
    apiKey: '491b6c2ead7f15b8c26c513b923dd6a0',
    indexName: 'mice',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script>


  </body>
</html>

